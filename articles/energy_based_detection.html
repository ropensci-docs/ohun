<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Energy-based detection • ohun</title>
<!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Energy-based detection">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css">
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">ohun</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/energy_based_detection.html">Energy-based detection</a></li>
    <li><a class="dropdown-item" href="../articles/intro_to_ohun.html">Optimizing sound event detection</a></li>
    <li><a class="dropdown-item" href="../articles/template_based_detection.html">Template-based detection</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/ohun/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Energy-based detection</h1>
                        <h4 data-toc-skip class="author"><a href="https://marce10.github.io/" class="external-link">Marcelo
Araya-Salas, PhD</a></h4>
            
            <h4 data-toc-skip class="date">2024-10-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/ohun/blob/master/vignettes/energy_based_detection.Rmd" class="external-link"><code>vignettes/energy_based_detection.Rmd</code></a></small>
      <div class="d-none name"><code>energy_based_detection.Rmd</code></div>
    </div>

    
    
<p>This vignette details the use of energy-based detection in <a href="https://docs.ropensci.org/ohun/">ohun</a>. The energy detector
approach uses amplitude envelopes to infer the position of sound events.
Amplitude envelopes are representations of the variation in energy
through time. This type of detector doesn’t require highly stereotyped
sound events, although they work better on high quality recordings in
which the amplitude of target sound events is higher than the background
noise (i.e. high signal-to-noise ratio):</p>
<figure><center>
<img src="analysis_workflow_energy.png" alt="automated signal detection diagram" width="500" height="450">
</center>
<figcaption><i>Diagram depicting how target sound event features can be used to tell
the most adequate sound event detection approach. Steps in which ‘ohun’
can be helpful are shown in color. (SNR = signal-to-noise ratio) </i>
</figcaption></figure><p>First, we need to install the package. It can be installed from CRAN
as follows:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># From CRAN would be</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ohun"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#load package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/ohun/">ohun</a></span><span class="op">)</span></span></code></pre></div>
<p>To install the latest developmental version from <a href="https://github.com/" class="external-link">github</a> you will need the R package <a href="https://cran.r-project.org/package=devtools" class="external-link">remotes</a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install package</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"maRce10/ohun"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#load packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/ohun/">ohun</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tuner.R-forge.R-project.org" class="external-link">tuneR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://marce10.github.io/warbleR/" class="external-link">warbleR</a></span><span class="op">)</span></span></code></pre></div>
<p>The package comes with an example reference table containing
annotations of long-billed hermit hummingbird songs from two sound files
(also supplied as example data: ‘lbh1’ and ‘lbh2’), which will be used
in this vignette. The example data can be load and explored as
follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load example data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"lbh1"</span>, <span class="st">"lbh2"</span>, <span class="st">"lbh_reference"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># save sound files</span></span>
<span><span class="fu">tuneR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/writeWave.html" class="external-link">writeWave</a></span><span class="op">(</span><span class="va">lbh1</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"lbh1.wav"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">tuneR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/writeWave.html" class="external-link">writeWave</a></span><span class="op">(</span><span class="va">lbh2</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"lbh2.wav"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># select a subset of the data</span></span>
<span><span class="va">lbh1_reference</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">lbh_reference</span><span class="op">[</span><span class="va">lbh_reference</span><span class="op">$</span><span class="va">sound.files</span> <span class="op">==</span> <span class="st">"lbh1.wav"</span>,<span class="op">]</span></span>
<span></span>
<span><span class="co"># print data</span></span>
<span><span class="va">lbh1_reference</span></span></code></pre></div>
<pre><code> [30mObject of class  [1m'selection_table' [22m [39m</code></pre>
<pre><code> [90m* The output of the following call: [39m</code></pre>
<pre><code> [90m [3m`[.selection_table`(X = lbh_reference, i = lbh_reference$sound.files ==  [23m [39m [90m [3m"lbh1.wav") [23m [39m</code></pre>
<pre><code> [90m [1m
Contains: [22m 
*  A selection table data frame with 10 rows and 6 columns: [39m</code></pre>
<pre><code> [90m|   |sound.files | selec|  start|    end| bottom.freq| top.freq| [39m</code></pre>
<pre><code> [90m|:--|:-----------|-----:|------:|------:|-----------:|--------:| [39m</code></pre>
<pre><code> [90m|10 |lbh1.wav    |    10| 0.0881| 0.2360|      1.9824|   8.4861| [39m</code></pre>
<pre><code> [90m|11 |lbh1.wav    |    11| 0.5723| 0.7202|      2.0520|   9.5295| [39m</code></pre>
<pre><code> [90m|12 |lbh1.wav    |    12| 1.0564| 1.1973|      2.0868|   8.4861| [39m</code></pre>
<pre><code> [90m|13 |lbh1.wav    |    13| 1.7113| 1.8680|      1.9824|   8.5905| [39m</code></pre>
<pre><code> [90m|14 |lbh1.wav    |    14| 2.1902| 2.3417|      2.0520|   8.5209| [39m</code></pre>
<pre><code> [90m|15 |lbh1.wav    |    15| 2.6971| 2.8538|      1.9824|   9.2513| [39m</code></pre>
<pre><code> [90m... and 4 more row(s) [39m</code></pre>
<pre><code> [90m
* A data frame (check.results) with 10 rows generated by check_sels() (as attribute) [39m</code></pre>
<pre><code> [90mcreated by warbleR &lt; 1.1.21 [39m</code></pre>
<p>We can plot the annotations on top of the spectrogram and amplitude
envelope to further explore the data (this function only plots one wave
object at the time, not really useful for long files):</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># print spectrogram</span></span>
<span><span class="fu"><a href="../reference/label_spectro.html">label_spectro</a></span><span class="op">(</span>wave <span class="op">=</span> <span class="va">lbh1</span>, reference <span class="op">=</span> <span class="va">lbh1_reference</span>, hop.size <span class="op">=</span> <span class="fl">10</span>, ovlp <span class="op">=</span> <span class="fl">50</span>, flim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>, envelope <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="energy_based_detection_files/figure-html/unnamed-chunk-4-1.png" width="100%" style="display: block; margin: auto;"></p>
<div class="section level2">
<h2 id="how-it-works">How it works<a class="anchor" aria-label="anchor" href="#how-it-works"></a>
</h2>
<p>The function <code>ernergy_detector()</code> performs this type of
detection. We can understand how to use <code>ernergy_detector()</code>
using simulated sound events. We will do that using the function
<code><a href="https://marce10.github.io/warbleR/reference/simulate_songs.html" class="external-link">simulate_songs()</a></code> from <a href="https://CRAN.R-project.org/package=warbleR" class="external-link">warbleR</a>. In this
example we simulate a recording with 10 sounds with two different
frequency ranges and durations:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install this package first if not installed</span></span>
<span><span class="co"># install.packages("Sim.DiffProc")</span></span>
<span></span>
<span><span class="co">#Creating vector for duration </span></span>
<span><span class="va">durs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">freqs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">6</span><span class="op">)</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Creating simulated song</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span></span>
<span><span class="va">simulated_1</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">warbleR</span><span class="fu">::</span><span class="fu"><a href="https://marce10.github.io/warbleR/reference/simulate_songs.html" class="external-link">simulate_songs</a></span><span class="op">(</span></span>
<span>    n <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    durs <span class="op">=</span> <span class="va">durs</span>,</span>
<span>    freqs <span class="op">=</span> <span class="va">freqs</span>,</span>
<span>    sig2 <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>    gaps <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>    harms <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    bgn <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>    freq.range <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    file.name <span class="op">=</span> <span class="st">"simulated_1"</span>,</span>
<span>    selec.table <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    shape <span class="op">=</span> <span class="st">"cos"</span>,</span>
<span>    fin <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>    fout <span class="op">=</span> <span class="fl">0.35</span>,</span>
<span>    samp.rate <span class="op">=</span> <span class="fl">18</span></span>
<span>  <span class="op">)</span><span class="op">$</span><span class="va">wave</span></span></code></pre></div>
<p>The function call saves a ‘.wav’ sound file in a temporary directory
(<code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code>) and also returns a <code>wave</code> object in
the R environment. This outputs will be used to run energy-based
detection and creating plots, respectively. This is how the spectrogram
and amplitude envelope of the simulated recording look like:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plot spectrogram and envelope</span></span>
<span><span class="fu"><a href="../reference/label_spectro.html">label_spectro</a></span><span class="op">(</span>wave <span class="op">=</span> <span class="va">simulated_1</span>,</span>
<span>              env <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              fastdisp <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="energy_based_detection_files/figure-html/unnamed-chunk-6-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>Note that the amplitude envelope shows a high signal-to-noise ratio
of the sound events, which is ideal for energy-based detection. This can
be conducted using <code>ernergy_detector()</code> as follows:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run detection</span></span>
<span><span class="va">detection</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/energy_detector.html">energy_detector</a></span><span class="op">(</span></span>
<span>    files <span class="op">=</span> <span class="st">"simulated_1.wav"</span>,</span>
<span>    bp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>    threshold <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    smooth <span class="op">=</span> <span class="fl">150</span>,</span>
<span>    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre><code> [30mdetecting sound events (step 0 of 0): [39m</code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plot spectrogram and envelope</span></span>
<span><span class="fu"><a href="../reference/label_spectro.html">label_spectro</a></span><span class="op">(</span></span>
<span>  wave <span class="op">=</span> <span class="va">simulated_1</span>,</span>
<span>  envelope <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  detection <span class="op">=</span> <span class="va">detection</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fl">50</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="energy_based_detection_files/figure-html/unnamed-chunk-7-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>The output is a selection table:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">detection</span></span></code></pre></div>
<pre><code> [30mObject of class  [1m'selection_table' [22m [39m</code></pre>
<pre><code> [90m* The output of the following call: [39m</code></pre>
<pre><code> [90m [3menergy_detector(files = "simulated_1.wav", path = tempdir(),  [23m [39m [90m [3mbp = c(2, 8), smooth = 150, threshold = 50) [23m [39m</code></pre>
<pre><code> [90m [1m
Contains: [22m 
*  A selection table data frame with 10 rows and 5 columns: [39m</code></pre>
<pre><code> [90m|sound.files     | duration| selec|  start|    end| [39m</code></pre>
<pre><code> [90m|:---------------|--------:|-----:|------:|------:| [39m</code></pre>
<pre><code> [90m|simulated_1.wav |   0.2325|     1| 0.5314| 0.7639| [39m</code></pre>
<pre><code> [90m|simulated_1.wav |   0.7943|     2| 1.3955| 2.1898| [39m</code></pre>
<pre><code> [90m|simulated_1.wav |   0.2332|     3| 2.8308| 3.0640| [39m</code></pre>
<pre><code> [90m|simulated_1.wav |   0.7942|     4| 3.6957| 4.4899| [39m</code></pre>
<pre><code> [90m|simulated_1.wav |   0.2330|     5| 5.1310| 5.3640| [39m</code></pre>
<pre><code> [90m|simulated_1.wav |   0.7942|     6| 5.9957| 6.7899| [39m</code></pre>
<pre><code> [90m... and 4 more row(s) [39m</code></pre>
<pre><code> [90m
* A data frame (check.results) with 10 rows generated by check_sels() (as attribute) [39m</code></pre>
<pre><code> [90mcreated by warbleR 1.1.32 [39m</code></pre>
<p>Now we will make use of some additional arguments to filter out
specific sound events based on their structural features. For instance
we can use the argument <code>minimum.duration</code> to provide a time
treshold (in ms) to exclude short sound events and keep only the longest
sound events:</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run detection</span></span>
<span><span class="va">detection</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/energy_detector.html">energy_detector</a></span><span class="op">(</span></span>
<span>    files <span class="op">=</span> <span class="st">"simulated_1.wav"</span>,</span>
<span>    bp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>    threshold <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    min.duration <span class="op">=</span> <span class="fl">500</span>,</span>
<span>    smooth <span class="op">=</span> <span class="fl">150</span>,</span>
<span>    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># plot spectrogram</span></span>
<span><span class="fu"><a href="../reference/label_spectro.html">label_spectro</a></span><span class="op">(</span>wave <span class="op">=</span> <span class="va">simulated_1</span>, detection <span class="op">=</span> <span class="va">detection</span><span class="op">)</span></span></code></pre></div>
<p><img src="energy_based_detection_files/figure-html/unnamed-chunk-9-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>We can use the argument <code>max.duration</code> (also in ms) to
exclude long sound events and keep the short ones:</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run detection</span></span>
<span><span class="va">detection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/energy_detector.html">energy_detector</a></span><span class="op">(</span>files <span class="op">=</span> <span class="st">"simulated_1.wav"</span>, bp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">8</span><span class="op">)</span>,  threshold <span class="op">=</span> <span class="fl">50</span>, smooth <span class="op">=</span> <span class="fl">150</span>, max.duration <span class="op">=</span> <span class="fl">500</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot spectrogram</span></span>
<span><span class="fu"><a href="../reference/label_spectro.html">label_spectro</a></span><span class="op">(</span>wave <span class="op">=</span> <span class="va">simulated_1</span>,  detection <span class="op">=</span> <span class="va">detection</span><span class="op">)</span></span></code></pre></div>
<p><img src="energy_based_detection_files/figure-html/unnamed-chunk-10-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>We can also focus the detection on specific frequency ranges using
the argument <code>bp</code> (bandpass). By setting
<code>bp = c(5, 8)</code> only those sound events found within that
frequency range (5-8 kHz) will be detected, which excludes sound events
below 5 kHz:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Detecting </span></span>
<span><span class="va">detection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/energy_detector.html">energy_detector</a></span><span class="op">(</span>files <span class="op">=</span> <span class="st">"simulated_1.wav"</span>, bp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">8</span><span class="op">)</span>, threshold <span class="op">=</span> <span class="fl">50</span>, smooth <span class="op">=</span> <span class="fl">150</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot spectrogram</span></span>
<span><span class="fu"><a href="../reference/label_spectro.html">label_spectro</a></span><span class="op">(</span>wave <span class="op">=</span> <span class="va">simulated_1</span>,  detection <span class="op">=</span> <span class="va">detection</span><span class="op">)</span></span></code></pre></div>
<p><img src="energy_based_detection_files/figure-html/unnamed-chunk-11-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>The same logic can be applied to detect those sound events found
below 5 kHz. We just need to set the upper bound of the band pass filter
below the range of the higher frequency sound events (for instance
<code>bp = (0, 5)</code>):</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Detect</span></span>
<span><span class="va">detection</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/energy_detector.html">energy_detector</a></span><span class="op">(</span></span>
<span>    files <span class="op">=</span> <span class="st">"simulated_1.wav"</span>,</span>
<span>    bp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>    threshold <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    min.duration <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    smooth <span class="op">=</span> <span class="fl">150</span>,</span>
<span>    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># plot spectrogram</span></span>
<span><span class="fu"><a href="../reference/label_spectro.html">label_spectro</a></span><span class="op">(</span>wave <span class="op">=</span> <span class="va">simulated_1</span>,  detection <span class="op">=</span> <span class="va">detection</span><span class="op">)</span></span></code></pre></div>
<p><img src="energy_based_detection_files/figure-html/unnamed-chunk-12-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>Amplitude modulation (variation in amplitude across a sound event)
can be problematic for detection based on amplitude envelopes. We can
also simulate some amplitude modulation using
<code><a href="https://marce10.github.io/warbleR/reference/simulate_songs.html" class="external-link">warbleR::simulate_songs()</a></code>:</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Creating simulated song</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Creating vector for duration</span></span>
<span><span class="va">durs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># and a frequency vector</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">freqs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">6</span><span class="op">)</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">sim_2</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://marce10.github.io/warbleR/reference/simulate_songs.html" class="external-link">simulate_songs</a></span><span class="op">(</span></span>
<span>    n <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    durs <span class="op">=</span> <span class="va">durs</span>,</span>
<span>    freqs <span class="op">=</span> <span class="va">freqs</span>,</span>
<span>    sig2 <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>    gaps <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>    harms <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    bgn <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>    freq.range <span class="op">=</span> <span class="fl">2</span>,    </span>
<span>    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    file.name <span class="op">=</span> <span class="st">"simulated_2"</span>,</span>
<span>    selec.table <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    shape <span class="op">=</span> <span class="st">"cos"</span>,</span>
<span>    fin <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>    fout <span class="op">=</span> <span class="fl">0.35</span>,</span>
<span>    samp.rate <span class="op">=</span> <span class="fl">18</span>,</span>
<span>    am.amps <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">0.1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># extract wave object and selection table</span></span>
<span><span class="va">simulated_2</span> <span class="op">&lt;-</span> <span class="va">sim_2</span><span class="op">$</span><span class="va">wave</span></span>
<span><span class="va">sim2_sel_table</span> <span class="op">&lt;-</span> <span class="va">sim_2</span><span class="op">$</span><span class="va">selec.table</span></span>
<span></span>
<span><span class="co"># plot spectrogram</span></span>
<span><span class="fu"><a href="../reference/label_spectro.html">label_spectro</a></span><span class="op">(</span>wave <span class="op">=</span> <span class="va">simulated_2</span>, envelope <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="energy_based_detection_files/figure-html/unnamed-chunk-13-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>When sound events have strong amplitude modulation they can be split
during detection:</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># detect sounds</span></span>
<span><span class="va">detection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/energy_detector.html">energy_detector</a></span><span class="op">(</span>files <span class="op">=</span> <span class="st">"simulated_2.wav"</span>, threshold <span class="op">=</span> <span class="fl">50</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot spectrogram</span></span>
<span><span class="fu"><a href="../reference/label_spectro.html">label_spectro</a></span><span class="op">(</span>wave <span class="op">=</span> <span class="va">simulated_2</span>, envelope <span class="op">=</span> <span class="cn">TRUE</span>, threshold <span class="op">=</span> <span class="fl">50</span>, detection <span class="op">=</span> <span class="va">detection</span><span class="op">)</span></span></code></pre></div>
<p><img src="energy_based_detection_files/figure-html/unnamed-chunk-14-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>There are two arguments that can deal with this:
<code>holdtime</code> and <code>smooth</code>. <code>hold.time</code>
allows to merge split sound events that are found within a given time
range (in ms). This time range should be high enough to merge things
belonging to the same sound event but not too high so it merges
different sound events. For this example a <code>hold.time</code> of 200
ms can do the trick (we know gaps between sound events are ~0.5 s
long):</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># detect sounds</span></span>
<span><span class="va">detection</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/energy_detector.html">energy_detector</a></span><span class="op">(</span></span>
<span>    files <span class="op">=</span> <span class="st">"simulated_2.wav"</span>,</span>
<span>    threshold <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    min.duration <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    hold.time <span class="op">=</span> <span class="fl">200</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># plot spectrogram</span></span>
<span><span class="fu"><a href="../reference/label_spectro.html">label_spectro</a></span><span class="op">(</span></span>
<span>  wave <span class="op">=</span> <span class="va">simulated_2</span>,</span>
<span>  envelope <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  detection <span class="op">=</span> <span class="va">detection</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="energy_based_detection_files/figure-html/unnamed-chunk-15-1.png" width="100%" style="display: block; margin: auto;"></p>
<p><code>smooth</code> works by merging the amplitude envelope ‘hills’
of the split sound events themselves. It smooths envelopes by applying a
sliding window averaging of amplitude values. It’s given in ms of the
window size. A <code>smooth</code> of 350 ms can merged back split sound
events from our example:</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># detect sounds</span></span>
<span><span class="va">detection</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/energy_detector.html">energy_detector</a></span><span class="op">(</span></span>
<span>    files <span class="op">=</span> <span class="st">"simulated_2.wav"</span>,</span>
<span>    threshold <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    min.duration <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    smooth <span class="op">=</span> <span class="fl">350</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># plot spectrogram</span></span>
<span><span class="fu"><a href="../reference/label_spectro.html">label_spectro</a></span><span class="op">(</span></span>
<span>  wave <span class="op">=</span> <span class="va">simulated_2</span>,</span>
<span>  envelope <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  detection <span class="op">=</span> <span class="va">detection</span>,</span>
<span>  smooth <span class="op">=</span> <span class="fl">350</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="energy_based_detection_files/figure-html/unnamed-chunk-16-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>The function has some additional arguments for further filtering
detections (<code>peak.amplitude</code>) and speeding up analysis
(<code>thinning</code> and <code>parallel</code>).</p>
</div>
<div class="section level2">
<h2 id="optimizing-energy-based-detection">Optimizing energy-based detection<a class="anchor" aria-label="anchor" href="#optimizing-energy-based-detection"></a>
</h2>
<p>This last example using <code>smooth</code> can be used to showcase
how the tunning parameters can be optimized. As explained above, to do
this we need a reference table that contains the time position of the
target sound events. The function
<code><a href="../reference/optimize_energy_detector.html">optimize_energy_detector()</a></code> can be used finding the optimal
parameter values. We must provide the range of parameter values that
will be evaluated:</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">optim_detection</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/optimize_energy_detector.html">optimize_energy_detector</a></span><span class="op">(</span></span>
<span>    reference <span class="op">=</span> <span class="va">sim2_sel_table</span>,</span>
<span>    files <span class="op">=</span> <span class="st">"simulated_2.wav"</span>,</span>
<span>    threshold <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    min.duration <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    smooth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">250</span>, <span class="fl">350</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre><code>3 combinations will be evaluated:</code></pre>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">optim_detection</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">7</span><span class="op">:</span><span class="fl">12</span>, <span class="fl">17</span><span class="op">:</span><span class="fl">18</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>  threshold peak.amplitude smooth hold.time min.duration thinning detections
1        50              0    100         0            1        1         20
2        50              0    250         0            1        1         15
3        50              0    350         0            1        1         10
  true.positives false.positives false.negatives splits   overlap
1              0              20              10      0        NA
2              5              10               5      0 0.5023727
3             10               0               0      0 0.7224533
  proportional.duration.true.positives
1                                   NA
2                            0.5023727
3                            0.7843797</code></pre>
<p>The output contains the combination of parameters used at each
iteration as well as the corresponding diagnose indices. In this case
all combinations generate a good detection (recall &amp; precision = 1).
However, only the routine with the highest <code>smooth</code> (last
row) has no split sound events (‘split.positive’ column). It also shows
a better overlap to the reference sound events (‘overlap’ closer to
1).</p>
<p>In addition, there are two complementary functions for optimizing
energy-based detection routines: <code><a href="../reference/summarize_reference.html">summarize_reference()</a></code> and
<code><a href="../reference/merge_overlaps.html">merge_overlaps()</a></code>. <code><a href="../reference/summarize_reference.html">summarize_reference()</a></code> allow
user to get a sense of the time and frequency characteristics of a
reference table. This information can be used to determine the range of
tuning parameter values during optimization. This is the output of the
function applied to <code>lbh_reference</code>:</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summarize_reference.html">summarize_reference</a></span><span class="op">(</span>reference <span class="op">=</span> <span class="va">lbh_reference</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>                  min   mean    max
sel.duration   117.96 142.60 163.73
gap.duration   322.16 396.43 514.08
annotations      9.00   9.50  10.00
duty.cycle       0.24   0.27   0.31
peak.amplitude  73.76  81.58  88.03
bottom.freq      1.81   2.11   2.37
top.freq         8.49   8.82   9.53</code></pre>
<p>Features related to selection duration can be used to set the
‘max.duration’ and ‘min.duration’ values, frequency related features can
inform banpass values, gap related features inform hold time values and
duty cycle can be used to evaluate performance. Peak amplitude can be
used to keep only those sound events with the highest intensity, mostly
useful for routines in which only a subset of the target sound events
present in the recordings is needed.</p>
<p><code><a href="../reference/merge_overlaps.html">merge_overlaps()</a></code> finds time-overlapping selections in
reference tables and collapses them into a single selection. Overlapping
selections would more likely appear as a single amplitude ‘hill’ and
thus would be detected as a single sound event. So
<code><a href="../reference/merge_overlaps.html">merge_overlaps()</a></code> can be useful to prepare references in a
format representing a more realistic expectation of how a pefect energy
detection routine would look like.</p>
<hr>
<div class="alert alert-info">
<p>Please cite <a href="https://docs.ropensci.org/ohun/">ohun</a> like
this:</p>
<p>Araya-Salas, M. (2021), <em>ohun: diagnosing and optimizing automated
sound event detection</em>. R package version 0.1.0.</p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Araya-Salas, M. (2021), ohun: diagnosing and optimizing automated
sound event detection. R package version 0.1.0.</li>
<li>Araya-Salas M, Smith-Vidaurre G (2017) warbleR: An R package to
streamline analysis of animal sound events. Methods Ecol Evol
8:184-191.</li>
<li>Knight, E.C., Hannah, K.C., Foley, G.J., Scott, C.D., Brigham, R.M.
&amp; Bayne, E. (2017). Recommendations for acoustic recognizer
performance assessment with application to five common automated signal
recognition programs. Avian Conservation and Ecology,</li>
<li>Macmillan, N. A., &amp; Creelman, C.D. (2004). Detection theory: A
user’s guide. Psychology press.</li>
</ol>
<hr>
<p><font size="4">Session information</font></p>
<pre><code>R version 4.4.1 (2024-06-14)
Platform: x86_64-pc-linux-gnu
Running under: Ubuntu 24.04.1 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 
LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C               LC_TIME=en_US.UTF-8       
 [4] LC_COLLATE=en_US.UTF-8     LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                  LC_ADDRESS=C              
[10] LC_TELEPHONE=C             LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

time zone: Etc/UTC
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] warbleR_1.1.32     NatureSounds_1.0.4 knitr_1.48         seewave_2.2.3     
[5] tuneR_1.4.7        ohun_1.0.2        

loaded via a namespace (and not attached):
 [1] gtable_0.3.5        rjson_0.2.23        xfun_0.48           bslib_0.8.0        
 [5] ggplot2_3.5.1       vctrs_0.6.5         tools_4.4.1         bitops_1.0-9       
 [9] parallel_4.4.1      tibble_3.2.1        proxy_0.4-27        fansi_1.0.6        
[13] highr_0.11          pkgconfig_2.0.3     KernSmooth_2.23-24  checkmate_2.3.2    
[17] desc_1.4.3          lifecycle_1.0.4     compiler_4.4.1      textshaping_0.4.0  
[21] brio_1.1.5          munsell_0.5.1       htmltools_0.5.8.1   class_7.3-22       
[25] sass_0.4.9          RCurl_1.98-1.16     yaml_2.3.10         pillar_1.9.0       
[29] pkgdown_2.1.0       jquerylib_0.1.4     MASS_7.3-61         classInt_0.4-10    
[33] cachem_1.1.0        viridis_0.6.5       Deriv_4.1.6         digest_0.6.37      
[37] sf_1.0-18           fastmap_1.2.0       grid_4.4.1          colorspace_2.1-1   
[41] cli_3.6.3           magrittr_2.0.3      utf8_1.2.4          e1071_1.7-16       
[45] scales_1.3.0        backports_1.5.0     rmarkdown_2.28      Sim.DiffProc_4.9   
[49] signal_1.8-1        igraph_2.1.1        gridExtra_2.3       ragg_1.3.2         
[53] pbapply_1.7-2       evaluate_1.0.1.9000 dtw_1.23-1          fftw_1.0-9         
[57] testthat_3.2.1.1    viridisLite_0.4.2   rlang_1.1.4         Rcpp_1.0.13        
[61] glue_1.8.0          DBI_1.2.3           jsonlite_1.8.9      R6_2.5.1           
[65] systemfonts_1.1.0   fs_1.6.4            units_0.8-5        </code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>





  </body>
</html>
